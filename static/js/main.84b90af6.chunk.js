(this["webpackJsonpmonopoly-score-keeper"]=this["webpackJsonpmonopoly-score-keeper"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(15),a=n.n(r),s=n(8),i=n(11),o=n(23),l={ADD_PLAYER:"ADD_PLAYER",GET_PLAYERS:"GET_PLAYERS",GET_PLAYER_BY_ID:"GET_PLAYER_BY_ID",ADD_TRANSACTION:"ADD_TRANSACTION",BANK:"Bank",FREE_PARKING:"Free parking",ADD_SALARY:"ADD_SALARY"};function d(e,t){this.amount=e,this.receiver=t}function j(e){this.name=e,this.budget=1500,this.transactions=[new d(1500,l.BANK)]}var b=new j(l.FREE_PARKING);b.budget=0;var u=new j(l.BANK);u.budget=1e7;var h=[u,b,new j("Dante")];function O(e,t){var n=e[t.payload.id],c=e.find((function(e){return e.name==t.payload.receiver})),r=parseInt(t.payload.transaction);return n=m(t.payload.receiver,-1*r,n),c=m(n.name,r,c),e}function m(e,t,n){return n.budget+=t,n.transactions.push(new d(t,e)),n}var p=Object(i.b)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.ADD_PLAYER:return[].concat(Object(o.a)(e),[t.payload]);case l.GET_PLAYER_BY_ID:return e[t.payload];case l.ADD_TRANSACTION:case l.ADD_SALARY:var n=Object(o.a)(e);return n=O(n,t);default:return e}}}),x=n(24);n(32),n(33),n(34),n.p,n(35);var f=n(3),v=n(9),N=n(0);var g=function(e){var t=e.player,n=Object(s.b)();return Object(N.jsx)("span",{children:t.name!=l.BANK&&t.name!=l.FREE_PARKING?Object(N.jsxs)("button",{className:"btn btn-success me-3",onClick:function(){var e;n((e=t.name,function(t){t({type:l.ADD_SALARY,payload:{id:0,transaction:200,receiver:e}})}))},children:[Object(N.jsx)("i",{className:"bi bi-cash"})," ",Object(N.jsx)("span",{className:"d-none d-md-inline-block",children:"Salary"})]}):Object(N.jsx)("div",{})})};var A=function(e){var t=e.player,n="/transaction/add/".concat(e.number);return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{children:[t.name," (",e.number,")"]}),Object(N.jsx)("td",{children:t.budget}),Object(N.jsxs)("td",{children:[Object(N.jsxs)(v.b,{to:n,className:"btn btn-primary me-3",children:[Object(N.jsx)("i",{className:"bi bi-plus"}),Object(N.jsx)("span",{className:"d-none d-md-inline-block",children:"Add transaction"})]}),Object(N.jsx)(g,{player:t})]})]})};var y=function(){var e=Object(s.c)((function(e){return e.players}));return Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-12 border border-1 rounded p-3 mt-3",children:Object(N.jsxs)("table",{className:"table",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Name"}),Object(N.jsx)("th",{children:"Budget"}),Object(N.jsx)("th",{children:"Actions"})]})}),Object(N.jsxs)("tbody",{children:[e&&e.length>0?e.map((function(e,t){return Object(N.jsx)(A,{player:e,number:t})})):Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:"No players found"})}),Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:3,children:Object(N.jsx)(v.b,{to:"/add",children:"Add player"})})})]})]})})})},w=n(22),_=n(14);var D=function(){var e,t=Object(c.useState)(""),n=Object(_.a)(t,2),r=n[0],a=n[1],i=Object(s.b)(),o=Object(f.f)();return Object(N.jsx)("div",(e={className:"col-12"},Object(w.a)(e,"className"," border border-1 rounded p-3 mt-3"),Object(w.a)(e,"children",Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new j(r);i(function(e){return function(t){t({type:l.ADD_PLAYER,payload:e})}}(t)),o.push("/list")},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{for:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Submit"})})]})),e))};var E=function(e){var t=e.player;return Object(N.jsxs)("div",{className:"border border-1 rounded p-3 mt-3",children:[Object(N.jsx)("h3",{children:"History"}),Object(N.jsxs)("table",{className:"mt-3 table",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Transaction"}),Object(N.jsx)("th",{children:"Receiver"})]})}),Object(N.jsx)("tbody",{children:t.transactions&&t.transactions.length>0?t.transactions.map((function(e){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.amount}),Object(N.jsx)("td",{children:e.receiver})]})})):Object(N.jsx)("tr",{children:Object(N.jsx)("td",{children:"No transactions found"})})})]})]})};var R=function(){var e=Object(f.g)().id,t=Object(s.b)(),n=Object(c.useState)(""),r=Object(_.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(l.BANK),d=Object(_.a)(o,2),j=d[0],b=d[1],u=Object(s.c)((function(e){return e.players})),h=u[e];return u=u.filter((function(e){return e.name!=h.name})),Object(N.jsxs)("div",{children:[h?Object(N.jsxs)("div",{className:"col-12",children:[Object(N.jsx)("h1",{children:h.name}),Object(N.jsxs)("h2",{children:["Budget: ",h.budget]}),Object(N.jsxs)("div",{className:"border border-1 rounded p-3 mt-3",children:[Object(N.jsx)("h3",{children:"Quick actions"}),Object(N.jsx)(g,{player:h})]}),Object(N.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t(function(e,t,n){return function(c){c({type:l.ADD_TRANSACTION,payload:{id:e,transaction:t,receiver:n}})}}(e,a,j))},className:"border border-1 rounded p-3 mt-3",children:[Object(N.jsxs)("div",{className:"form-group col-12",children:[Object(N.jsx)("label",{for:"number",children:"Amount:"}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{type:"number",className:"form-control",id:"budget",value:a,min:"0",onChange:function(e){return i(e.target.value)},required:!0}),Object(N.jsx)("div",{className:"input-group-append",children:Object(N.jsxs)("span",{className:"input-group-text",children:["--\x3e ",j]})})]})]}),Object(N.jsx)("div",{className:"form-group mt-3",children:u&&u.length>0?u.map((function(e,t){var n=function(e){switch(e){case l.BANK:return"btn btn-dark me-3";case l.FREE_PARKING:return"btn btn-secondary me-3";default:return"btn btn-outline-primary me-3"}}(e.name);return Object(N.jsx)("button",{type:"button",className:n,id:e.name,onClick:function(e){return b(e.target.id)},children:e.name})})):Object(N.jsx)("div",{})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("button",{type:"submit",className:"btn btn-primary  mt-3",children:"Submit"})})]}),Object(N.jsx)(E,{player:h})]}):Object(N.jsx)("div",{children:"Player not found"}),Object(N.jsx)(v.b,{to:"/list",className:"btn btn-light float-end mt-3",children:"Back"})]})};var S=function(){return Object(N.jsx)("div",{className:"App container",children:Object(N.jsx)("div",{className:"col-12",children:Object(N.jsxs)(f.c,{children:[Object(N.jsx)(f.a,{exact:!0,path:"/",children:Object(N.jsx)(y,{})}),Object(N.jsx)(f.a,{path:"/list",children:Object(N.jsx)(y,{})}),Object(N.jsx)(f.a,{exact:!0,path:"/add",children:Object(N.jsx)(D,{})}),Object(N.jsx)(f.a,{path:"/transaction/add/:id",children:Object(N.jsx)(R,{})})]})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var L=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c;return Object(i.d)(p,e,t(Object(i.a)(x.a)))}();a.a.render(Object(N.jsx)(s.a,{store:L,children:Object(N.jsx)(v.a,{basename:"/monopoly-score-keeper",children:Object(N.jsx)(S,{})})}),document.getElementById("root")),k(),function(e){if("serviceWorker"in navigator){if(new URL("/monopoly-score-keeper",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/monopoly-score-keeper","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):P(t,e)}))}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.84b90af6.chunk.js.map